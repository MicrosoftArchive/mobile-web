<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8" />
    <title>@ViewBag.Title</title>

    <!-- mobile friendly <meta> tags -->
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0" />
    <meta http-equiv="cleartype" content="on" />

    <!-- mobile first, responsive design stylesheets -->
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/css/default.css")" media="screen, handheld" />
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/css/extended.css")" media="only screen and (min-width: 640px)" />
     @if (Request.Browser.IsWow())
     {
         <link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/css/enhanced.css")" media="only screen and (min-width: 320px) and (color)" />
     }
</head>
    <body>
        @if (Request.Browser.IsWow() && User.Identity.IsAuthenticated){
            Html.RenderPartial("_spaTemplates");
        }
        <!-- application bar -->
        <header>
            <h1>
                <a href="@Url.Action("Index", "Dashboard")">Mileage Stats</a></h1>
            @if (Request.IsAuthenticated)
            {
                <ul>
                    <li><a href="@Url.Action("SignOut", "Auth")">Sign out</a></li>
                </ul>
            }
        </header>
        <!-- #content region(s) -->
        <div id="content">
            <div id="main">
                @RenderBody()
            </div>
        </div>

        <!-- application footer region -->
        <footer>
            @Html.Partial("_ViewSwitcher")
            <p>
                &copy; Copyright 2012 Microsoft</p>
        </footer>
        @if (ViewContext.HttpContext.Request.Browser.SupportsJavascript())
        { 
            <script type="text/javascript" src="@Url.Action("ProfileScript", "MobileProfile")"></script>	 
        }
        @if (Request.Browser.IsWow() && User.Identity.IsAuthenticated)
        {
            <script type="text/javascript">
                // allowing the server to set the root URL for the site, 
                // which is used by the client code for server requests.
                (function (mstats) {
                    mstats.rootUrl = '@Url.Content("~")';
                } (this.mstats = this.mstats || {}));
            </script>
            <script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-1.6.1.min.js"></script>
            <script src="@Url.Content("~/Scripts/mustache.js")"></script>
            <script src="@Url.Content("~/Scripts/mobile-debug/router.js")"></script>
            <script src="@Url.Content("~/Scripts/mobile-debug/dashboard.js")"></script>
			@*<script src="@Url.Content("~/Scripts/mobile-debug/addFillup.js")"></script>*@
            <script src="@Url.Content("~/Scripts/mobile-debug/app.js")"></script>
			<script src="@Url.Content("~/Scripts/mobile-debug/expander.js")"></script>
			
		}
    </body>
</html>
